(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{415:function(e,t,n){"use strict";n.r(t);var r=n(45),a=Object(r.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("ul",[n("li",[e._v("https://www.youtube.com/watch?v=9h1FsOISwX0&list=PLt9cUwGw6CYHWuMtGHSgdLUaTo7aa2lEr")]),e._v(" "),n("li",[e._v("安装WDK: https://www.youtube.com/watch?v=HFobGp7VZeA")]),e._v(" "),n("li",[e._v("https://zhuanlan.zhihu.com/p/34743309")])]),e._v(" "),n("p",[e._v("hack.h:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("#pragma once\n\n#include <ntifs.h>\n\nNTSTATUS DriverEntry(PDRIVER_OBJECT pDriverObject, PUNICODE_STRING pRrgister);\n\nNTSTATUS UnloadDriver(PDRIVER_OBJECT pDriverObject);\n")])])]),n("p",[e._v("messages.h:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("#pragma once\n\n#define DeBugMessage(x, ...) DbgPrintEx(0,0,x,__VA_ARGS__)\n")])])]),n("p",[e._v("hack.c:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('#pragma warning (disable : 4100)\n\n#include "hack.h"\n#include "messages.h"\n\n\nNTSTATUS DriverEntry(PDRIVER_OBJECT pDriverObject, PUNICODE_STRING pRrgister)\n{\n\tpDriverObject->DriverUnload = UnloadDriver;\n\n\tDeBugMessage("my first  driver.");\n\n\treturn STATUS_SUCCESS;\n}\n\nNTSTATUS UnloadDriver(PDRIVER_OBJECT pDriverObject)\n{\n\tDeBugMessage("unload driver");\n\treturn STATUS_SUCCESS;\n}\n')])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("/INTEGRITYCHECK\n")])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('C:\\WINDOWS\\system32>sc create hackdriver type=kernel binpath="C:\\Users\\ajanuw\\Desktop\\hack\\hackdriver\\x64\\Release\\hackdriver.sys"\n[SC] CreateService 成功\n\n// 执行前，需要将系统改为测试模式\n// 执行后重启电脑，将会在屏幕右下角看到进入测试模式\nC:\\WINDOWS\\system32>bcdedit /set testsigning on\n操作成功完成。\n\n// 打开 DebugView\n// 打开 capture->capture kernel选项\n// 执行下面的命令将会看到"my first  driver."信息\nC:\\WINDOWS\\system32>sc start hackdriver\n\n// 会看到"unload driver"信息\nC:\\WINDOWS\\system32>sc stop hackdriver\n\n// 查看服务状态\nC:\\WINDOWS\\system32>sc query hackdriver\n\n// (从注册表中)删除服务\n// 删除注册表regedit：HKEY_LOCAL_MACHINE\\SYSTEM\\ControlSet001\\Services\nC:\\WINDOWS\\system32>sc delete hackdriver\n')])])])])}),[],!1,null,null,null);t.default=a.exports}}]);